function checkApplyOrOkClicked(n){n.includes("OK")?$("#CloseFormOnSubmit").val("Y"):$("#CloseFormOnSubmit").val("N")}function attachListFunctions(n,t){if(t)$("#"+t).length>0?$("."+n).click(function(){var i=$(this).data("id"),n=$(this).data("loading-text");$("#"+t).val(i);n&&$("#FormTitleID").val(n)}):doErrorModal("Object ID is invalid","#"+t+" does not exist");else return!0;$(".dataList td").click(function(){showFilterAndSort(this)});$(".dataList td").contextmenu(function(){showFilterAndSort(this)})}function showFilterAndSort(n){var t,i;event.preventDefault();$(".dataList").find("td").popover("hide");t=$(n).find("a").attr("target");t!=null&&(i=$(n).find("a").html().trim(),$("#FilterCol").val(t),$("#FilterVal").val(i),$(n).popover({trigger:"manual",html:!0,title:function(){return"Filter and Sort"},content:function(){return $("#FilterPanel").html()}}).popover("show"),attachFilterFunctions())}function attachFilterFunctions(){$(".FilterButton").click(function(n){n.preventDefault();var r=$("#FilterCol").val(),i=$(this).attr("aria-label"),t=$("#FilterVal").val(),u=$("#FilterQuery").val();t.indexOf('checked="checked"')>-1?t="true":t.indexOf("check-box")>-1&&(t="false");t=t.replace(/[,]/gm,"|");t=t.replace(/[ ]/gm,"_");t=t.replace(".00","");$("#FilterComp").val(i);i==="X"?$("#FilterQuery").val(""):t?$("#FilterQuery").val(u+"!"+r+","+i+","+t):$("#FilterQuery").val(u+"!"+r+",NULL");$("#doSearch").submit()});$(".FilterSearch").keypress(function(n){if(n.which===13){event.preventDefault();var r=$("#FilterCol").val(),i="EQ",t=$(this).val(),u=$("#FilterQuery").val();t=t.replace(/[,]/gm,"|");t=t.replace(/[ ]/gm,"_");t=t.replace(".00","");t=t.replace(/[*]/gm,"%");t.indexOf("%")>-1&&(i="LK");$("#FilterQuery").val(u+"!"+r+","+i+","+t);$("#doSearch").submit()}})}function loadList(n,t,i,r,u,f,e){var o;o=i.length>0?"/"+t+"/Index/"+i+u+" #"+r:"/"+t+"/Index/"+u+" #"+r;$("#"+n).load(o,function(n,t){var i,u,s,r;if(t==="error")doErrorModal("Error Loading "+o,"The list at "+o+" returned a server error and could not be loaded");else if(attachListFunctions(f,e),console.log(o+" Loaded"),$(".dataList").DataTable(),i=$(".Alerts",n).html(),i&&(i=i.trim()),i){for(u=i.split("|"),s="",r=0;r<u.length;r++)s+="<p>"+u[r]+"<\/p>";doModal("Customer Alerts",s)}})}function loadInputForm(n,t,i,r,u,f,e,o,s,h,c,l,a){var v;v=r.length>0?"/"+i+"/Edit/"+r+" #"+f:u.length>0?"/"+i+"/Create/"+u+" #"+f:"/"+i+"/Create/ #"+f;$("#"+n).load(v,function(y,p){p==="error"?doErrorModal("Error Loading Form "+f,"The form at "+v+" returned a server error and could not be loaded"):(attachSubmitInputForm(n,t,i,r,u,e,o,s,h,c,l,a),console.log(v+" Loaded"))})}function loadDeleteForm(n,t,i,r,u,f,e,o,s,h,c,l,a){var v;r.length>0?(v="/"+i+"/Delete/"+r+" #"+f,$("#"+n).load(v,function(y,p){p==="error"?doErrorModal("Error Loading Form "+f,"The form at "+v+" returned a server error and could not be loaded"):(attachSubmitDeleteForm(n,t,i,r,u,e,o,s,h,c,l,a),console.log(v+" Loaded"))})):doErrorModal("Object ID not valid","Object ID does not have a valid value")}function attachSubmitInputForm(n,t,i,r,u,f,e,o,s,h,c,l){var a=$("#"+f);return a.removeData("validator"),a.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(a),extraSubmitFormFunctions(),a.submit(function(n){n.preventDefault();r.length>0?a.valid()&&$.ajax({type:"POST",url:"/"+i+"/Edit/"+r,data:a.serialize(),success:function(){if(c===!0){$("#CloseFormOnSubmit").val()==="Y"&&$("#"+l).modal("hide");var n=new Audio("/sounds/confirm.wav");n.play()}loadList(t,i,u,e,o,s,h)},error:function(n){doCrashModal(n)}}):a.valid()&&$.ajax({type:"POST",url:"/"+i+"/Create",data:a.serialize(),success:function(n){var r=!1,f;c===!0&&($("#CloseFormOnSubmit").val()==="Y"&&(r=!0,$("#"+l).modal("hide")),f=new Audio("/sounds/confirm.wav"),f.play());r||($("#"+h).val(n.objectID),$("#"+l).trigger("shown.bs.modal"));loadList(t,i,u,e,o,s,h)},error:function(n){doCrashModal(n)}})}),a.valid()}function attachSubmitDeleteForm(n,t,i,r,u,f,e,o,s,h,c,l){var a=$("#"+f);return a.removeData("validator"),a.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(a),a.submit(function(n){n.preventDefault();r.length>0?a.valid()&&$.ajax({type:"POST",url:"/"+i+"/Delete/"+r,data:a.serialize(),success:function(){c===!0&&$("#"+l).modal("hide");loadList(t,i,u,e,o,s,h)},error:function(n){doCrashModal(n)}}):doErrorModal("Object ID not valid","Object ID does not have a valid value")}),a.valid()}function getSearchParams(n){n||(n="");let t=new URLSearchParams(window.location.search);if(t.has("sort")){let i=t.get("sort");n+=n===""?"?sort="+i:"&sort="+i}if(t.has("search")){let i=t.get("search");n+=n===""?"?search="+i:"&search="+i}return n}function extraSubmitFormFunctions(){$(".ProfileIconAnimated").css({"margin-left":"-100px",borderSpacing:"-90"});$(".ProfileIconAnimated").animate({borderSpacing:90,marginLeft:"0px"},{step:function(n){$(this).css("transform","rotate("+n+"deg)")},duration:500},"linear")}$(".ClearSortButton").click(function(n){n.preventDefault();$("#SortQuery").val("");$("#doSearch").submit()});$(".ClearCurrentFiltersButton").click(function(n){n.preventDefault();$("#FilterQuery").val("");$("#doSearch").submit()});