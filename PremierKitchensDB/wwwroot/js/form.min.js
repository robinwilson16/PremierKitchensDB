function checkApplyOrOkClicked(n){n.includes("OK")?$("#CloseFormOnSubmit").val("Y"):$("#CloseFormOnSubmit").val("N")}function attachListFunctions(n,t){if(t)$("#"+t).length>0?$("."+n).click(function(){var i=$(this).data("id"),n=$(this).data("loading-text");$("#"+t).val(i);n&&$("#FormTitleID").val(n)}):doErrorModal("Object ID is invalid","#"+t+" does not exist");else return!0;$(".dataList td").click(function(){showFilterAndSort(this)});$(".dataList td").contextmenu(function(){showFilterAndSort(this)})}function showFilterAndSort(n){var t,i;event.preventDefault();$(".dataList").find("td").popover("hide");t=$(n).find("a").attr("target");t!=null&&(i=$(n).find("a").html().trim(),$("#FilterCol").val(t),$("#FilterVal").val(i),$(n).popover({trigger:"manual",html:!0,title:function(){return"Filter and Sort"},content:function(){return $("#FilterPanel").html()}}).popover("show"),attachFilterFunctions())}function attachFilterFunctions(){$(".FilterButton").click(function(n){n.preventDefault();var r=$("#FilterCol").val(),i=$(this).attr("aria-label"),t=$("#FilterVal").val(),u=$("#FilterQuery").val();t.indexOf('checked="checked"')>-1?t="true":t.indexOf("check-box")>-1&&(t="false");t=t.replace(/[,]/gm,"|");t=t.replace(/[ ]/gm,"_");t=t.replace(".00","");$("#FilterComp").val(i);i==="X"?$("#FilterQuery").val(""):t?$("#FilterQuery").val(u+"!"+r+","+i+","+t):$("#FilterQuery").val(u+"!"+r+",NULL");$("#doSearch").submit()});$(".FilterSearch").keypress(function(n){if(n.which===13){event.preventDefault();var r=$("#FilterCol").val(),i="EQ",t=$(this).val(),u=$("#FilterQuery").val();t=t.replace(/[,]/gm,"|");t=t.replace(/[ ]/gm,"_");t=t.replace(".00","");t=t.replace(/[*]/gm,"%");t.indexOf("%")>-1&&(i="LK");$("#FilterQuery").val(u+"!"+r+","+i+","+t);$("#doSearch").submit()}})}function loadList(n,t,i,r,u,f,e,o,s){var h;e||(e="1");o||(o="asc");h=i.length>0?"/"+t+"/Index/"+i+u+" #"+r:"/"+t+"/Index/"+u+" #"+r;$("#"+n).load(h,function(n,t){var l,i,u,c,r;if(t==="error")doErrorModal("Error Loading "+h,"The list at "+h+" returned a server error and could not be loaded");else if(attachListFunctions(f,s),console.log(h+" Loaded"),l=$(".dataList").DataTable(),l.order([e,o]).draw(),i=$(".Alerts",n).html(),i&&(i=i.trim()),i){for(u=i.split("|"),c="",r=0;r<u.length;r++)c+="<p>"+u[r]+"<\/p>";doModal("Customer Alerts",c)}})}function loadInputForm(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p;p=r.length>0?"/"+i+"/Edit/"+r+" #"+f:u.length>0?"/"+i+"/Create/"+u+" #"+f:"/"+i+"/Create/ #"+f;$("#"+n).load(p,function(w,b){b==="error"?doErrorModal("Error Loading Form "+f,"The form at "+p+" returned a server error and could not be loaded"):(attachSubmitInputForm(n,t,i,r,u,e,o,s,h,c,l,a,v,y),console.log(p+" Loaded"))})}function loadDeleteForm(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p;r.length>0?(p="/"+i+"/Delete/"+r+" #"+f,$("#"+n).load(p,function(w,b){b==="error"?doErrorModal("Error Loading Form "+f,"The form at "+p+" returned a server error and could not be loaded"):(attachSubmitDeleteForm(n,t,i,r,u,e,o,s,h,c,l,a,v,y),console.log(p+" Loaded"))})):doErrorModal("Object ID not valid","Object ID does not have a valid value")}function attachSubmitInputForm(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=$("#"+f);return y.removeData("validator"),y.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(y),extraSubmitFormFunctions(),y.submit(function(n){n.preventDefault();r.length>0?y.valid()&&$.ajax({type:"POST",url:"/"+i+"/Edit/"+r,data:y.serialize(),success:function(){if(a===!0){$("#CloseFormOnSubmit").val()==="Y"&&$("#"+v).modal("hide");var n=new Audio("/sounds/confirm.wav");n.play()}loadList(t,i,u,e,o,s,h,c,l)},error:function(n){doCrashModal(n)}}):y.valid()&&$.ajax({type:"POST",url:"/"+i+"/Create",data:y.serialize(),success:function(n){var r=!1,f;a===!0&&($("#CloseFormOnSubmit").val()==="Y"&&(r=!0,$("#"+v).modal("hide")),f=new Audio("/sounds/confirm.wav"),f.play());r||($("#"+l).val(n.objectID),$("#"+v).trigger("shown.bs.modal"));loadList(t,i,u,e,o,s,h,c,l)},error:function(n){doCrashModal(n)}})}),y.valid()}function attachSubmitDeleteForm(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y=$("#"+f);return y.removeData("validator"),y.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(y),y.submit(function(n){n.preventDefault();r.length>0?y.valid()&&$.ajax({type:"POST",url:"/"+i+"/Delete/"+r,data:y.serialize(),success:function(){a===!0&&$("#"+v).modal("hide");loadList(t,i,u,e,o,s,h,c,l)},error:function(n){doCrashModal(n)}}):doErrorModal("Object ID not valid","Object ID does not have a valid value")}),y.valid()}function getSearchParams(n){n||(n="");let t=new URLSearchParams(window.location.search);if(t.has("sort")){let i=t.get("sort");n+=n===""?"?sort="+i:"&sort="+i}if(t.has("search")){let i=t.get("search");n+=n===""?"?search="+i:"&search="+i}return n}function extraSubmitFormFunctions(){$(".ProfileIconAnimated").css({"margin-left":"-100px",borderSpacing:"-90"});$(".ProfileIconAnimated").animate({borderSpacing:90,marginLeft:"0px"},{step:function(n){$(this).css("transform","rotate("+n+"deg)")},duration:500},"linear")}$(".ClearSortButton").click(function(n){n.preventDefault();$("#SortQuery").val("");$("#doSearch").submit()});$(".ClearCurrentFiltersButton").click(function(n){n.preventDefault();$("#FilterQuery").val("");$("#doSearch").submit()});